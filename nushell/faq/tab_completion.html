<!DOCTYPE HTML><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style id="nojscss">.jsonly{display:none;}</style><style id="fcss"></style><link rel="stylesheet" type="text/css" href="style.css"><meta name="author" content="Jan9103"><script>function ch(btn){btn.classList.toggle("active");btn.parentElement.nextElementSibling.classList.toggle("hidelvl");btn.innerText=btn.innerText=="-"?"+":"-";}document.getElementById("nojscss").innerText=".hidelvl{display:none;}";</script><title>Nushell tab completion</title></head><body><div class="container"><h1>Tab completion</h1> <h2>Method1: External Completer (recommended) <button onclick="ch(this)" class="active">+</button></h2><div class="hidelvl"><p>This method tells nu to use an external program for tab-completing.</p> <p><a href="https://www.nushell.sh/cookbook/external_completers.html">(nu book)</a></p> <ul><li>Pro: Very good completions for most programs</li><li>Pro: Low performance impact</li><li>Con: Requires a extra binary</li><li>Con: Slightly slower (not noticable)</li></ul> Options: <ul><li><a href="https://github.com/carapace-sh/carapace">Carapace</a> : Works well for me</li><li><a href="https://github.com/fish-shell/fish-shell">Fish</a> : Based on the fish-shell</li><li><a href="https://www.nushell.sh/cookbook/external_completers.html#multiple-completer">Mix and match</a></li></ul> <h3>Setup / install methods <button onclick="ch(this)">-</button></h3><div><h4>Package managers <button onclick="ch(this)">-</button></h4><div><p><a href="package_management.html">overview</a></p> Carapace: <ul><li><a href="https://github.com/jan9103/numng">numng</a> <code><span class="a_36">{</span><span class="a_32">&quot;name&quot;</span><span class="a_36">: </span><span class="a_32">&quot;jan9103/nu-snippets/integration/carapace&quot;</span><span class="a_36">, </span><span class="a_32">&quot;version&quot;</span><span class="a_36">: </span><span class="a_32">&quot;git&quot;</span><span class="a_36">}</span></code></li></ul> Fish: <ul><li><a href="https://github.com/jan9103/numng">numng</a> <code><span class="a_36">{</span><span class="a_32">&quot;name&quot;</span><span class="a_36">: </span><span class="a_32">&quot;jan9103/nu-snippets/integration/fish_completer&quot;</span><span class="a_36">, </span><span class="a_32">&quot;version&quot;</span><span class="a_36">: </span><span class="a_32">&quot;git&quot;</span><span class="a_36">}</span></code></li></ul></div> <h4>Copying a config snippet into config.nu <button onclick="ch(this)">-</button></h4><div>Carapace: <div class="cb"><pre><span class="a_35">$env</span>.<span class="a_32">config</span> <span class="a_33">=</span> <span class="a_34">(</span>
  <span class="a_35">$env</span>.<span class="a_32">config</span>?
  <span class="a_35">|</span> <span class="a_36">default</span> <span class="a_36">{}</span>
  <span class="a_35">|</span> <span class="a_36">upsert</span> <span class="a_32">completions</span>.<span class="a_32">external</span> <span class="a_36">{
    </span><span class="a_32">enable</span><span class="a_36">: </span>true
    <span class="a_32">completer</span><span class="a_36">: </span><span class="a_32">{|spans|
      ^</span><span class="a_36">carapace</span> <span class="a_35">$spans</span>.<span class="a_35">0</span> <span class="a_32">nushell</span> <span class="a_33">...</span><span class="a_35">$spans</span>
      <span class="a_35">|</span> <span class="a_36">from json</span>
      <span class="a_35">|</span> <span class="a_36">if</span> <span class="a_34">(</span><span class="a_35">$in</span> <span class="a_35">|</span> <span class="a_36">default</span> <span class="a_36">[]</span> <span class="a_35">|</span> <span class="a_36">where</span> <span class="a_32">value</span> <span class="a_33">=~</span> <span class="a_32">'^-.*ERR$'</span> <span class="a_35">|</span> <span class="a_36">is-empty</span><span class="a_34">)</span> <span class="a_34">{ </span><span class="a_35">$in</span><span class="a_34"> }</span> <span class="a_36">else</span> <span class="a_34">{ </span>null<span class="a_34"> }</span><span class="a_32">
    }</span><span class="a_36">
  }</span>
<span class="a_34">)</span></pre></div> Fish: <div class="cb"><pre><span class="a_35">$env</span>.<span class="a_32">config</span> <span class="a_33">=</span> <span class="a_34">(</span>
  <span class="a_35">$env</span>.<span class="a_32">config</span>?
  <span class="a_35">|</span> <span class="a_36">default</span> <span class="a_36">{}</span>
  <span class="a_35">|</span> <span class="a_36">upsert</span> <span class="a_32">completions</span>.<span class="a_32">external</span> <span class="a_36">{
    </span><span class="a_32">enable</span><span class="a_36">: </span>true
    <span class="a_32">completer</span><span class="a_36">: </span><span class="a_32">{|spans|
      ^</span><span class="a_36">fish</span> <span class="a_32">--command</span> <span class="a_36">$'</span><span class="a_32">complete &quot;--do-complete=</span><span class="a_34">(</span><span class="a_35">$spans</span> <span class="a_35">|</span> <span class="a_36">str join</span> <span class="a_32">&quot; &quot;</span><span class="a_34">)</span><span class="a_32">&quot;</span><span class="a_36">'</span>
      <span class="a_35">|</span> <span class="a_36">$&quot;</span><span class="a_32">value</span><span class="a_34">(</span><span class="a_36">char</span> <span class="a_32">tab</span><span class="a_34">)</span><span class="a_32">description</span><span class="a_34">(</span><span class="a_36">char</span> <span class="a_32">newline</span><span class="a_34">)</span><span class="a_36">&quot;</span> <span class="a_33">+</span> <span class="a_35">$in</span>
      <span class="a_35">|</span> <span class="a_36">from tsv</span> <span class="a_34">--flexible</span> <span class="a_34">--no-infer</span><span class="a_32">
    }</span><span class="a_36">
  }</span>
<span class="a_34">)</span></pre></div></div></div></div> <h2>Method2: Completion config snippets <button onclick="ch(this)" class="active">+</button></h2><div class="hidelvl"><p>This is the nushell &quot;native&quot; method. You can either write these yourself (a lot of work) or use ones someone else already wrote.</p> <ul><li>Pro: Nothing external needed</li><li>Pro: Theoretically the fastest</li><li>Pro: Full control over it</li><li>Con: It requires a lot of resources if you try to have &quot;everything&quot;</li><li>Con: Far from complete</li></ul> <h3>Setup / install methods <button onclick="ch(this)">-</button></h3><div><h4>Package managers <button onclick="ch(this)">-</button></h4><div><p><a href="package_management.html">overview</a></p> <ul><li>Pro: no need to manually manage everything</li><li>Pro: auto updates</li></ul></div> <h4>Manually adding it to you config <button onclick="ch(this)">-</button></h4><div><ul><li>Pro: Full control</li><li>Pro: Easier to get started with</li><li>Pro: You see nu code and might learn something</li><li>Con: A lot more work to manage (update, add, remove, etc)</li></ul> Sources: <ul><li><a href="https://github.com/nushell/nu_scripts/tree/main/custom-completions">nu_scripts</a></li><li></li></ul></div></div></div></div><footer><b>Credits:</b><ul><li>Code color scheme: <a href="https://draculatheme.com/">dracula</a></li></ul></footer></body></html>